# 🏛️ Ninky - 役員任期管理PWA

**任期管理を自動化！プロのための役員管理プラットフォーム**

---

## 📋 プロジェクト概要

**Ninky**は法律実務家の実務に特化した役員任期管理システムです。顧問先会社・法人の役員情報を一元管理し、任期満了日の自動計算・通知機能により、企業業務の見落としを防止します。

- **対象ユーザー**: 司法書士・行政書士・弁護士
- **主な用途**: 役員任期管理、登記期限アラート、顧問先管理
- **技術スタック**: HTML5 / CSS3 / JavaScript (Vanilla) / PWA / LocalStorage

---

## ✨ 現在実装済みの主要機能

### 🎯 コア機能
- ✅ **会社・法人情報の登録管理** - 13種類の法人形態対応（株式会社、合同会社、一般社団法人等）
- ✅ **役員情報の詳細管理** - 10種類の役職対応（代表取締役、取締役、監査役等）
- ✅ **任期満了日の自動計算** - 就任日＋事業年度末＋任期年数＋任期類型（通常/設立時）から正確に計算
- ✅ **任期類型分岐機能** - 「通常任期」と「設立時等の短縮任期」を選択可能
- ✅ **満了予定通知システム** - 緊急度別アラート（赤/オレンジ/黄）表示
- ✅ **和暦表示対応** - 令和・平成・昭和の自動判定・表示
- ✅ **事業年度末の簡素化入力** - 月選択のみで末日自動確定
- ✅ **CSVインポート/エクスポート** - 一括データ処理対応（和暦/西暦両対応）
- ✅ **データ編集機能** - 登録後のデータ修正・削除対応

### 📱 PWA機能
- ✅ **ホーム画面追加** - iOS/Android/Windows完全対応
- ✅ **正式アイコン統一** - Ninky公式アイコン（白い縁取り・崩れなし）
- ✅ **オフライン動作** - ネットワーク不要でデータ管理（LocalStorage + Service Worker）
- ✅ **自動更新機能** - 新バージョンの自動適用
- ✅ **ショートカット** - 新規登録・満了確認への直接アクセス

### 🔍 検索・フィルタ機能
- ✅ **会社名・役員名検索** - リアルタイム絞り込み
- ✅ **直近1年間フィルタ** - 最新案件に集中表示
- ✅ **緊急度別ソート** - 満了日近い順に自動ソート

---

## 📂 現在の機能別エントリーポイント

### 🌐 メインアプリケーション
- **`index.html`** - アプリケーション本体（単一ファイル構成）
  - **URL**: `/index.html`（ルートパス）
  - **機能**: 全機能が統合された完結型アプリ

### 🎨 PWA関連ファイル
- **`ninky-manifest.json`** - PWA設定ファイル
  - アプリ名、アイコン、テーマカラー等の定義
  - バージョン: v2.2.1
- **`sw.js`** - Service Worker（オフライン対応・キャッシュ管理）
  - キャッシュバージョン: `ninky-v2.2.1`

### 🖼️ アイコンファイル（正式統一版）
**配置場所**: `/icons/` フォルダ

| ファイル名 | サイズ | 用途 |
|-----------|--------|------|
| `icon-512.png` | 512x512 | PWA標準アイコン（Android・Windows） |
| `icon-192.png` | 192x192 | PWA小サイズアイコン |
| `apple-touch-icon.png` | 180x180 | iOS専用アイコン |

**デザイン特徴**:
- 青〜ピンクグラデーション背景の「N」モチーフ
- 正方形・余白なし設計（OSの角丸処理に最適化）
- 透過なし・背景込みでPWA向き
- 白い縁取り・崩れの問題を完全解消

---

## 🗄️ データモデル・ストレージ構造

### LocalStorage利用データ
すべてのデータはブラウザのLocalStorageに保存されます（サーバー不要）。

#### 1️⃣ 会社・法人データ（`companies`キー）
```javascript
{
  id: "uuid-v4",                    // 一意識別子
  name: "株式会社サンプル",          // 会社名
  corporateType: "株式会社",         // 法人形態
  fiscalYearEnd: "3月",              // 事業年度末（月のみ）
  createdAt: 1737148800000          // 登録日時（Unix timestamp）
}
```

#### 2️⃣ 役員データ（`officers`キー）
```javascript
{
  id: "uuid-v4",                    // 一意識別子
  companyId: "company-uuid",        // 所属会社ID（外部キー）
  name: "山田太郎",                  // 役員名
  position: "代表取締役",            // 役職
  appointmentDate: "2020-04-01",    // 就任日（ISO形式）
  termYears: 2,                     // 任期年数（1〜10年）
  termType: "通常任期",              // 任期類型（通常任期/設立時等の短縮任期）
  expirationDate: "2022-06-30",     // 任期満了日（自動計算）
  notes: "備考テキスト",             // メモ欄
  createdAt: 1737148800000          // 登録日時
}
```

### データ永続化
- **保存方式**: `JSON.stringify()`でシリアライズ後、LocalStorageに保存
- **読込方式**: `JSON.parse()`でデシリアライズ
- **容量制限**: 約5MB（一般的なブラウザ制限）

---

## 🚧 未実装機能・今後の拡張候補

### 🔔 通知機能
- [ ] **メール通知** - 満了予定日の自動メール送信
- [ ] **プッシュ通知** - ブラウザプッシュ通知（Notification API）

### 📊 レポート機能
- [ ] **PDF出力** - 役員リスト・満了予定表のPDF化
- [ ] **統計ダッシュボード** - 法人形態別・役職別の集計グラフ

### 🔄 データ同期
- [ ] **クラウドバックアップ** - Google Drive / Dropbox連携
- [ ] **マルチデバイス同期** - 複数端末でのデータ共有

### 📱 UI/UX改善
- [ ] **ダークモード** - 夜間作業に配慮した配色
- [ ] **カレンダービュー** - 月次カレンダーでの満了日可視化

### 🛠️ 業務拡張
- [ ] **登記申請書テンプレート** - 役員変更登記の申請書自動生成
- [ ] **印鑑届テンプレート** - 代表取締役変更時の印鑑届作成

---

## 🎯 推奨される次のステップ

### 📈 短期目標（1〜2週間）
1. **実務投入テスト** - 実際の顧問先3〜5社で運用開始
2. **バグ修正** - 運用中に発見された不具合の即時対応
3. **UI微調整** - 実務フィードバックに基づく操作性改善

### 🚀 中期目標（1〜2ヶ月）
4. **PDF出力機能** - jsPDF等のライブラリ導入で帳票出力
5. **プッシュ通知実装** - Notification API + Service Worker活用
6. **クラウドバックアップ** - Google Drive API連携

### 🌟 長期目標（3ヶ月〜）
7. **モバイルアプリ化** - Capacitor/Cordovaでネイティブアプリ変換
8. **マルチユーザー対応** - 事務所内での共有利用機能
9. **API連携** - 法人番号システム・登記情報提供サービスとの接続

---

## 🔧 開発・保守情報

### バージョン情報
- **現在のバージョン**: v2.2.1
- **最終更新日**: 2026年1月19日
- **キャッシュバージョン**: `ninky-v2.2.1`
- **更新内容**: PWAアイコンを正式版に統一、iOS/Android/Windows対応完全化

### ブラウザ対応
- ✅ Chrome / Edge（推奨）
- ✅ Safari（iOS含む）
- ✅ Firefox
- ⚠️ IE11非対応

### ローカル開発
```bash
# 静的ファイルサーバーで起動
npx http-server -p 8080

# ブラウザでアクセス
http://localhost:8080/index.html
```

### デプロイ方法
1. **Publishタブから公開** - プラットフォーム標準機能で即時デプロイ
2. **静的ホスティング** - GitHub Pages / Netlify / Vercel等に配置可能
3. **PWA要件確認** - HTTPS必須、マニフェスト・Service Worker正常動作確認

---

## 🧪 PWA検証手順（重要）

### iOS（Safari）での確認
1. **既存PWAの削除** - ホーム画面のNinkyアイコンを長押し→削除
2. **キャッシュクリア** - 設定 > Safari > 履歴とWebサイトデータを消去
3. **再インストール** - Safariで開く → 共有ボタン → ホーム画面に追加
4. **アイコン確認** - ホーム画面のアイコンが正式デザイン（Nモチーフ）になっているか確認

### Android（Chrome）での確認
1. **既存PWAの削除** - アプリ一覧からNinkyをアンインストール
2. **再インストール** - Chromeで開く → メニュー → アプリをインストール
3. **アイコン確認** - ホーム画面のアイコンを確認

### Windows（Edge）での確認
1. **既存PWAの削除** - スタートメニューからNinkyをアンインストール
2. **再インストール** - Edgeで開く → アプリをインストール
3. **アイコン確認** - スタートメニュー・タスクバーのアイコンを確認

---

## 📁 ファイル構成

```
ninky/
├── index.html               (85.6 KB) - メインアプリケーション
├── ninky-manifest.json      (1.2 KB)  - PWA設定
├── sw.js                    (3.0 KB)  - Service Worker
├── README.md                (このファイル)
└── icons/                   - PWAアイコン統一フォルダ
    ├── icon-512.png         (292 KB)  - 標準アイコン
    ├── icon-192.png         (292 KB)  - 小サイズアイコン
    └── apple-touch-icon.png (292 KB)  - iOS専用アイコン
```

---

## 📞 サポート・問い合わせ

開発元: **村上司法事務所**（村上裕紀／広島県尾道市因島土生町）  
対象業務: 相続・不動産・企業法務・成年後見

**ご利用に際してのご注意**:  
本システムは登記期限管理の補助ツールです。最終的な登記申請期限の確認は、必ず商業登記法等の関連法令に基づいてご判断ください。

---

## 📜 ライセンス

本プロジェクトは司法書士・行政書士実務用に開発されたプライベートツールです。  
商用利用・再配布については別途ご相談ください。

---

**🎉 Ninkyで、もう任期満了を見逃さない。**
